{"version":3,"file":"static/js/109.68be74dd.chunk.js","mappings":"uOAQMA,EAAK,SAAAC,IAAAC,EAAAA,EAAAA,GAAAF,EAAAC,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAJ,GAAA,SAAAA,IAAA,IAAAK,GAAAC,EAAAA,EAAAA,GAAA,KAAAN,GAAA,QAAAO,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GASR,OATQP,EAAAF,EAAAU,KAAAC,MAAAX,EAAA,OAAAY,OAAAL,KACTM,MAAQ,CACNC,IAAK,GACLC,WAAY,EACZC,OAAQ,GACRC,SAAU,CAAC,EACXC,QAAS,CAAC,EACVC,YAAa,MACbC,cAAe,QAChBlB,CAAA,CAiDA,OAjDAmB,EAAAA,EAAAA,GAAAxB,EAAA,EAAAyB,IAAA,oBAAAC,MACD,WACE,IACIT,EADS,IAAIU,gBAAgBC,OAAOC,SAASC,KAAKC,MAAM,KAAK,IAChDC,IAAI,OACrBC,KAAKC,SAAS,CAACjB,IAAAA,GACjB,GAAC,CAAAQ,IAAA,qBAAAC,MAED,WACMO,KAAKE,MAAMC,QAAQC,SAAShB,QAAQiB,cAAgBL,KAAKjB,MAAMK,QAAQiB,aACzEL,KAAKC,SAAS,CAACb,QAASY,KAAKE,MAAMC,QAAQC,SAAShB,UAElDY,KAAKE,MAAMC,QAAQC,SAASf,cAAgBW,KAAKjB,MAAMM,aACzDW,KAAKC,SAAS,CAACZ,YAAaW,KAAKE,MAAMC,QAAQC,SAASf,cAEtDW,KAAKE,MAAMC,QAAQC,SAASd,gBAAkBU,KAAKjB,MAAMO,eAC3DU,KAAKC,SAAS,CAACX,cAAeU,KAAKE,MAAMC,QAAQC,SAASd,eAE9D,GAAC,CAAAE,IAAA,SAAAC,MAED,WAAU,IAADa,EAAA,KACCC,EAAMP,KAAKE,MAAXK,EAER,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,CACpBV,KAAKjB,MAAMG,QAASsB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUC,SAAA,CAAEH,EAAE,cAAc,MAAIP,KAAKjB,MAAMG,UAAgB,MAC/FyB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,UAASC,UACtBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,iBAAgBC,UAC7BC,EAAAA,EAAAA,KAACC,EAAAA,GAAIC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACCb,KAAKE,OAAK,IACdd,QAASY,KAAKjB,MAAMK,QACpBJ,IAAKgB,KAAKjB,MAAMC,IAChB8B,SAAUd,KAAKE,MAAMY,SACrBzB,YAAaW,KAAKjB,MAAMM,YACxBC,cAAeU,KAAKjB,MAAMO,cAC1ByB,SAAU,SAACC,GACT,IAAIC,EAAM,CACRZ,YAAaW,EACbE,WAAW,GAEbC,QAAQC,IAAI,aAAcd,EAAKJ,OAC/BI,EAAKJ,MAAMmB,YAAY,CACrBjC,QAAS6B,GAEb,WAMZ,KAAClD,CAAA,CA1DQ,CAASuD,EAAAA,WA6DpB,W","sources":["app/chat/askMe.js"],"sourcesContent":["import React from 'react';\r\n// import fetch from '../../fetch/axios';\r\nimport '../../style/askMe.less';\r\n// import { Button, Input } from 'antd';\r\n// import { PlusCircleOutlined, MessageOutlined, DeleteOutlined, SearchOutlined } from '@ant-design/icons';\r\nimport Chat from './chat';\r\n// import moment from 'moment';\r\n\r\nclass AskMe extends React.Component {\r\n  state = {\r\n    pId: '',\r\n    chatIndex: -1,\r\n    pTitle: \"\",\r\n    listData: {},\r\n    chatObj: {},\r\n    projectType: 'Hub', // 'File' 'Hub'\r\n    responeseType: 'text', // 'stream' 'text'\r\n  }\r\n  componentDidMount() {\r\n    let params = new URLSearchParams(window.location.hash.split('?')[1]);\r\n    let pId = params.get('pId');\r\n    this.setState({pId});\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.reducer.chatInfo.chatObj.subjectGUID !== this.state.chatObj.subjectGUID) {\r\n      this.setState({chatObj: this.props.reducer.chatInfo.chatObj})\r\n    }\r\n    if (this.props.reducer.chatInfo.projectType !== this.state.projectType) {\r\n      this.setState({projectType: this.props.reducer.chatInfo.projectType})\r\n    }\r\n    if (this.props.reducer.chatInfo.responeseType !== this.state.responeseType) {\r\n      this.setState({responeseType: this.props.reducer.chatInfo.responeseType})\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { t } = this.props;\r\n    // console.log(\"==========\", this.props)\r\n    return (\r\n      <div className='ask_me'>\r\n        {this.state.pTitle ? <div className='am_title'>{t('chat.title')} / {this.state.pTitle}</div> : null}\r\n        <div className='am_chat'>\r\n          <div className='am_chat_detail'>\r\n            <Chat\r\n              {...this.props}\r\n              chatObj={this.state.chatObj}\r\n              pId={this.state.pId}\r\n              official={this.props.official}\r\n              projectType={this.state.projectType}\r\n              responeseType={this.state.responeseType}\r\n              creating={(sId)=>{\r\n                let obj = {\r\n                  subjectGUID: sId,\r\n                  isCreated: true, // 新建转已有标识，用于防止闪烁\r\n                }\r\n                console.log(\"==========\", this.props)\r\n                this.props.setChatInfo({\r\n                  chatObj: obj,\r\n                });\r\n              }}>\r\n            </Chat>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AskMe"],"names":["AskMe","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","pId","chatIndex","pTitle","listData","chatObj","projectType","responeseType","_createClass","key","value","URLSearchParams","window","location","hash","split","get","this","setState","props","reducer","chatInfo","subjectGUID","_this2","t","_jsxs","className","children","_jsx","Chat","_objectSpread","official","creating","sId","obj","isCreated","console","log","setChatInfo","React"],"sourceRoot":""}